<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>智慧工地-安全管理</title>
    <link rel="stylesheet" href="./css/normalize.css">
    <link rel="stylesheet" href="./css/global.css">
    <link rel="stylesheet" href="./css/swiper.min.css">
</head>
<body>
    <div class="page-body">
        <div class="header">
            <div class="header_msg">
                <div class="header_msg__left">
                    <div class="logo"></div>
                    <div class="title">智慧工地</div>
                    <div class="nowdate">
                        <span>2018-10-8</span> 
                        <span>星期一</span>
                        <span>14:25:16</span>
                    </div>
                </div>
                <div class="header_msg__center">
                    <span class="project-title">恒大中心</span>
                </div>
                <div class="header_msg__right">
                    <div style="position: absolute;right:0;">
                        <div class="zoom-btn"></div>
                        <span>成都市19℃</span>
                        <span>湿度20%</span>
                    </div>
                </div>
            </div>
            <div class="header_nav">
                <div class="header_nav__left">
                    <ul>
                        <li><a href="./projectOverview.html">项目概况</a></li>
                        <li><a href="">资金管理</a></li>
                        <li><a href="./realTimeMonitoring.html">实时监控</a></li>
                        <li><a href="./environmentalMonitoring.html">环境监测</a></li>
                        <li><a href="./equipmentMonitoring.html">设备监控</a></li>
                    </ul>
                </div>
                <div class="header_nav__center">
                    <span class="rotate-square rotate-square__left"></span>
                    <div class="accumulative-time">透明施工
                        <span>237</span>天
                        <span>16</span>小时
                        <span>23</span>分
                        <span>15</span>秒
                    </div>
                    <span class="rotate-square rotate-square__right"></span>
                </div>
                <div class="header_nav__right">
                    <ul>
                        <li><a href="">物料管理</a></li>
                        <li><a href="./laborManagement.html">劳务管理</a></li>
                        <li><a href="">进度管理</a></li>
                        <li><a href="./securityManagement.html">安全管理</a></li>
                        <li><a href="./qualityManagement.html">质量管理</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="content">
            <div class="content__wrapper">
                <div class="content__left">
                    <div class="card">
                        <div class="box-card">
                                <div class="box-card__header">
                                    <span class="box-card__header__title">今日整改</span>
                                    <span class="box-card__header__text-right">2018-10-12</span>
                                </div>
                                <div class="box-card__content">
                                    <table class="table-list">
                                        <tr class="tr__th">
                                            <th>分类</th>
                                            <th>内容</th>
                                            <th>时间</th>
                                        </tr>
                                        <tr>
                                            <td>测试项目责任有限公司</td>
                                            <td>20%</td>
                                            <td>80%</td>
                                        </tr>
                                        <tr>
                                            <td>测试项目责任有限公司</td>
                                            <td>20%</td>
                                            <td>80%</td>
                                        </tr>
                                        <tr>
                                            <td>测试项目责任有限公司</td>
                                            <td>20%</td>
                                            <td>80%</td>
                                        </tr>
                                    </table>
                                </div>
                        </div>
                        <div class="box-card margin-top-20">
                            <div class="box-card__header">
                                <span class="box-card__header__title">今日整改</span>
                            </div>
                            <div class="box-card__content">
                                <table class="table-list">
                                    <tr class="tr__th">
                                        <th>分类</th>
                                        <th>内容</th>
                                        <th>时间</th>
                                    </tr>
                                    <tr>
                                        <td>测试项目责任有限公司</td>
                                        <td>20%</td>
                                        <td>80%</td>
                                    </tr>
                                    <tr>
                                        <td>测试项目责任有限公司</td>
                                        <td>20%</td>
                                        <td>80%</td>
                                    </tr>
                                    <tr>
                                        <td>测试项目责任有限公司</td>
                                        <td>20%</td>
                                        <td>80%</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="card margin-top-20">
                        <div class="card__header">
                           <span>检查累计</span>
                        </div>
                        <div class="card__content">
                            <div id="check-pie"></div>
                        </div>
                    </div>
                </div>
                <div class="content__center" style="height:600px;overflow: hidden;">                  
                        <div class="swiper-card padding-0" style="border: 1px solid yellow;height: 100%;">
                               <div class="swiper-card__top-title">质量亮点展示</div>
                               <div class="" style="border: 1px solid green;height: 100%;"></div>
                           <!-- <div class="swiper__wrapper"> -->
                                <div class="swiper-container" id="swiper-project">
                                    <div class="swiper-wrapper">
                                        <div class="swiper-slide slide1"><img src="./images/swiper1.png" alt=""></div>
                                        <div class="swiper-slide slide2"><img src="./images/swiper2.png" alt=""></div>
                                        <div class="swiper-slide slide3"><img src="./images/project _drawing.png" alt=""></div>
                                    </div>                                                                                                               
                                </div>
                            <!-- </div> -->
                        </div>
                        <!-- <div class="swiper-card margin-top-20">
                            <div class="swiper__wrapper"   style="width: 400px;">
                                <div class="swiper-container" id="swiper-security">
                                    <div class="swiper-wrapper">
                                        <div class="swiper-slide slide-perview"><img src="./images/swiper1.png" alt=""></div>
                                        <div class="swiper-slide slide-perview"><img src="./images/swiper2.png" alt=""></div>
                                        <div class="swiper-slide slide-perview"><img src="./images/project _drawing.png" alt=""></div>
                                        <div class="swiper-slide slide-perview"><img src="./images/swiper1.png" alt=""></div>
                                    </div>
                                    
                                    <div class="swiper-pagination"></div>                   
                                   
                                    <div class="swiper-button-prev"></div>
                                    <div class="swiper-button-next"></div>                       
                                </div>
                            </div> -->  
                      
                    
                </div>

                <div class="content__right">
                    <div class="card margin-bottom-20">
                        <div class="box-card">
                            <div class="box-card__header">
                                <span class="box-card__header__title">未佩戴安全帽抓拍</span>
                                <span class="box-card__header__text-right">2018-10-12</span>
                            </div>
                            <div class="box-card__content">
                                <div class="swiper__wrapper">
                                    <div class="swiper-container swiper1" id="swiper-project1" style="border: 1px solid yellow;height:180px;">
                                        <div class="swiper-wrapper" style="height: 100px;">
                                            <div class="swiper-slide"><img src="./images/swiper1.png" alt=""></div>
                                            <div class="swiper-slide"><img src="./images/swiper2.png" alt=""></div>
                                            <div class="swiper-slide"><img src="./images/project _drawing.png" alt=""></div>
                                        </div>
                                        <div class="swiper-button-prev"></div>
                                        <div class="swiper-button-next"></div>
                                    </div>
                                </div>
                                <span>2/23</span>
                                <div>时间：<span>2018-10-20 7:22:56</span></div>
                                <div>位置：<span>2号闸机通道</span></div>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="box-card">
                            <div class="box-card__header">
                                <span class="box-card__header__title">问题分布</span>
                            </div>
                            <div class="box-card__content">
                                <div id="problem-distr-pie"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <script src="./js/echarts.min.js"></script>
    <script src="./js/setEchart.js"></script>
    <script src="./js/swiper.min.js"></script>
    <script src="./js/setSwiper.js"></script>
    <script>
   let problemDistrPie = document.getElementById('problem-distr-pie')
    let problemDistrPieOpts = {
        color: ['#0CBD5C','#EB8504','#E5C63D','#EA3636'],
        series: [
            {
                type: 'pie',
                name: '问题分布',
                startAngle: 120,
                radius: ['20%','40%'],
                center: ['50%','25%'],
                label: {
                    show: true,
                    color: '#fff',
                    verticalAlign: 'middle'
                },
                data: [
                    {value:120,name:'施工用电'},
                    {value:210,name:'文明施工'},
                    {value:140,name:'基坑工程'},
                    {value:60,name:'安全管理'}
                ]           
            }

        ],
        tooltip: {
            trigger: 'item',
            formatter: '{b}：{d}%'
        },
        legend: {
        x: 'left',
        y:'50%',
        orient: 'vertical',
        formatter: '{name}',
        textStyle: {
            color: '#fff',
            padding:[0,0,0,4]
        }
        
    }
    }
    setChart(problemDistrPie,problemDistrPieOpts)

      let checkPie = document.getElementById('check-pie')
let checkPieOpts = {
    color: ['#0CBD5C','#E5C63D'],
    series: [
        {
            type: 'pie',
            name: '检查累计',
            startAngle: 120,
            radius: ['40%','60%'],
            center: ['34%','50%'],
            label: {
                show: true,
                position: 'center',
                // formatter: function() {
                //  var html='整改率\r\n'+'85%';
                //     return html;
                // },
                color: '#fff',
                verticalAlign: 'middle'
            },
            data: [
                {value:217,name:'已整改'},
                {value:25,name:'整改中'}
            ],
            markPoint: {
                symbol: 'diamond'
            }            
        }

    ],
    tooltip: {
        trigger: 'item',
        formatter: '{b}：{d}%'
    },
    legend: {
        x: 'right',
        y:'10%',
        formatter: '{name} {value}',
        textStyle: {
            color: '#fff',
            padding:[0,0,0,4]
        }
        
    }
}
setChart(checkPie,checkPieOpts)
    </script>
</body>
</html>